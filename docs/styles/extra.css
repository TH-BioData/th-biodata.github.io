/* ============================================================
   TH BioData Consulting — Estilos completos y estables (v3.6)
   ============================================================ */

/* --- Variables globales --- */
:root{
  --th-hero-height: 420px;
  --th-hero-height-sm: 300px;
  --md-header-h: var(--md-header-height, 3.6rem);
  --th-color-corporate-blue: #0F3D73;
  --th-color-corporate-light-blue: #7CC6FF;
}

/* --- Contenido centrado --- */
.md-content{max-width:950px;margin:0 auto;}

/* ============================================================
   HEADER y NAVEGACIÓN
   ============================================================ */
.md-header,.md-tabs{
  background-color:var(--th-color-corporate-blue) !important;
  z-index:20 !important;
}

/* Título del drawer (franja celeste) — estilos base */
.md-nav__title{
  background-color:var(--th-color-corporate-light-blue) !important;
  color:#fff !important;
  font-weight:600;
  border-bottom:1px solid #e5e7eb;
  display:flex;align-items:center;gap:8px;
  padding:.8rem 1rem !important;
}
.md-nav__title span,
.md-nav__title strong{color:#fff !important;}

.md-nav__link,.md-nav__link span{
  color:var(--th-color-corporate-blue) !important;background:transparent !important;
}
.md-nav__link:hover,.md-nav__link:focus{
  background-color:rgba(124,198,255,.12) !important;color:#004B8E !important;
}
.md-nav__icon,.md-icon{color:var(--th-color-corporate-blue) !important;}

/* Overlay sin velo gris, pero clickeable cuando el panel está abierto */
.md-overlay{
  background-color:transparent !important;pointer-events:none;opacity:0;transition:opacity .2s ease;
}
[data-md-state="lock"] .md-overlay{pointer-events:auto;opacity:1;}

/* Sidebar en desktop por encima del hero */
.md-sidebar,.md-sidebar--primary,.md-sidebar__scrollwrap{
  z-index:30 !important;background:#fff !important;
}

/* ============================================================
   DRAWER MÓVIL — debajo del header, alto correcto y logo visible
   ============================================================ */
@media (max-width:960px){
  /* Paneles del drawer por encima del contenido */
  .md-drawer,.md-nav,.md-sidebar,.md-sidebar--primary,.md-sidebar__scrollwrap{
    position:fixed;z-index:200 !important;
  }
  /* Colocar el panel lateral debajo del header y ajustar su alto útil */
  .md-drawer,
  .md-sidebar--primary{
    top:var(--md-header-h) !important;
    height:calc(100vh - var(--md-header-h)) !important;
    left:0;right:auto;
  }
  /* Título del panel: sticky y con padding que respeta notch */
  .md-sidebar--primary .md-nav__title{
    position:sticky;top:0;z-index:1;
    background-color:var(--th-color-corporate-light-blue) !important;
    padding:calc(.6rem + env(safe-area-inset-top,0)) 1rem .7rem 1rem !important;
    border-bottom:1px solid rgba(255,255,255,.25);
  }
  /* LOGO REAL en la franja celeste (assets/logo.png) */
  .md-sidebar--primary .md-nav__title .md-logo{
    display:inline-flex !important;align-items:center;justify-content:center;
    height:36px !important;width:36px !important;border-radius:6px;background:transparent !important;
  }
  .md-sidebar--primary .md-nav__title .md-logo::before{
    content:"";display:block;width:100%;height:100%;
    background-image:url('../assets/logo.png');
    background-size:contain;background-repeat:no-repeat;background-position:center;
    /* si tu logo ya es blanco, podés quitar el filter de la línea siguiente */
    filter:brightness(0) invert(1);
  }
  /* Ocultamos cualquier img/svg interno que pueda traer el tema */
  .md-sidebar--primary .md-nav__title .md-logo img,
  .md-sidebar--primary .md-nav__title .md-logo svg{display:none !important;}

  /* Evitar que el contenido tape el drawer */
  .md-main,.md-main__inner,.hero{z-index:0 !important;}

  /* Quitar sombra del header cuando el drawer está abierto (evita “morder” la franja) */
  [data-md-state="lock"] .md-header{box-shadow:none !important;}

  .md-sidebar__scrollwrap{overflow:auto !important;}
}

/* ============================================================
   DESKTOP — quitar recuadro blanco del logo en el sidebar
   ============================================================ */
@media (min-width:961px){
  .md-sidebar--primary .md-logo{display:none !important;}    /* evita el cuadro blanco */
  .md-sidebar--primary .md-nav__title{padding-left:1rem !important;}
}

/* ============================================================
   HERO full-bleed en el flujo + fade
   ============================================================ */
.hero{
  position:relative;
  margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);
  height:var(--th-hero-height);
  overflow:hidden;display:flex;align-items:center;justify-content:center;
  margin-top:0 !important;z-index:0;
  opacity:1;transform:translateY(0);
  transition:opacity .6s ease, transform .6s ease;
}
.hero__bg{
  position:absolute;inset:0;z-index:0;
  background-color:#0c2d57 !important; /* color base para evitar parpadeo */
  background-image:url('../assets/hero.jpg?v=6');
  background-size:cover;background-position:center;background-repeat:no-repeat;
}
.hero__content{
  position:relative;z-index:1;text-align:center;color:#fff;
  background:linear-gradient(to bottom, rgba(10,35,80,.15), rgba(10,35,80,.55));
  padding:48px 16px;border-radius:0;
}
.hero__title{font-size:36px;font-weight:700;margin-bottom:6px;}
.hero__tag{font-size:18px;opacity:.95;}
.hero__cta{
  display:inline-block;margin-top:16px;padding:10px 18px;
  background:var(--th-color-corporate-blue);border-radius:8px;color:#fff !important;text-decoration:none;
}

/* Fade al scrollear (tu scroll-fade.js alterna .scrolled en <body>) */
body.scrolled .hero{opacity:0;transform:translateY(-80px);pointer-events:none;}

/* ============================================================
   Layout principal
   ============================================================ */
.md-main{padding-top:var(--md-header-h) !important;position:relative;z-index:1;}
body:has(.hero) .md-main{padding-top:0 !important;}
body:not(:has(.hero)) .md-main{padding-top:var(--md-header-h) !important;}
.md-main__inner{position:relative;z-index:1;}

/* ============================================================
   Grid de cards
   ============================================================ */
.grid.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;}
.grid.cards>*{
  border:1px solid #e5e7eb;border-radius:12px;padding:16px;background:#fff;
  box-shadow:0 2px 6px rgba(0,0,0,.05);transition:transform .2s ease, box-shadow .2s ease;
}
.grid.cards>*:hover{transform:translateY(-3px);box-shadow:0 6px 12px rgba(0,0,0,.08);}

/* ============================================================
   Tipografía y márgenes
   ============================================================ */
.md-typeset h1{margin:.25rem 0 1rem !important;}
.md-typeset h1,.md-typeset h2,.md-typeset h3,.md-typeset h4{
  scroll-margin-top:calc(var(--md-header-h) + .5rem);
}

/* ============================================================
   Responsivo
   ============================================================ */
@media (max-width:768px){
  .hero{height:var(--th-hero-height-sm);}
  .hero__title{font-size:28px;}
  .hero__tag{font-size:16px;}
  .hero__cta{padding:8px 14px;}
}

/* ============================================================
   Accesibilidad
   ============================================================ */
@media (prefers-reduced-motion:reduce){
  .hero{transition:none;}
}
